
## 1. Управление связью
### Приблизительный план
получает данные от группы, ОРвД и передает их дальше в обработчик данных
_______
### Тех реализация
#### Api
```
/connection
```
#### JSON (на вход / выход)
```
{
    "type":"что за данные",
    "deliver-from": "",
    "deliver-to": "",
    "data": { .... } 
}
```

передается в 2.Обработчик входящих данных



## 2.Обработчик входящих данных
проверяет сертификаты на соответствие и целостность данных
_______
### Тех реализация
1. Он берет JSON смотрит на deliver-to
2. Берет type
3. В зависимости от type передает data компоненте в 4(напрямую), в 5ую транзитом, через 4ую
4. при отправке данных в deliver-from записывает id дрона
to be continued...
 

## 4. Контроль выполнения задания - взаимодействие


_______
### Тех реализация
1. Стек заданий
2. По заданиям есть приоритеты
3. У задания есть: 
    - приоритет
    - тип дрона
    - процент его выполнености
    - кто его выполняет (или никто)
    - местоположение задания
    - есть максимум дронов для выполенения (сколько достаточно)

## 5. Контроль выполнения задания - полет
Хранит информациб о своем полетном задании (сканирование области)
Принимает новые полетные задания (принимает новые облатси от других дронов)
Сортирует их по важности (очередь с приоритетом????)
_______
### Тех реализация
__TODO__: сделать 
будет хранить данные о всех заданиях
Таблица с заданиями и дронами, в ячейках время подлета дроно(за сколько он может)

## 6. Контроль выполнения задания - Обнаружение
Получает информацию об обнаружении
Запоминает, где это было
Отправляет это дальше...

_______
### Тех реализация
__TODO__: сделать 

## 7. Управление полетом
Текущее полетное задание получает от 5. Контроль выполнения задания - полет
Вычиляет маршрут, чтобы ни во что не врезаться
Летит куда надо
Сверяется с навигацией
(это все подразумевается как синхронное)

_______
### Тех реализация
1. От 5. Контроль выполнения задания - полет приходит многоугольник, где каждая точка это координата, и две критические высоты
2. Считает маршрут на основании данных навигации
    - Если вышел за допустимую область, то аварийная посадка
    - Если данные навигации и данные движения не совпадают, то аварийная посадка
    - Если низкий уровень заряда батареи, то возращаемся на базу или аварийная посадка


 передает в 11. Управление Двигателями 
3. С


## 8. Навигация
сравнивает gps и lps показатели, их отклонения
_______
### Тех реализация
Cверяет данные от LPS и GPS по заданному алгоритму

__TODO__: подумать над алгоритмом проверки LPS и GPS

отправляет данные навигации в 7. Управление полетом


## 9. GPS
просто поулчает координаты от спутниковой системы
_______
### Тех реализация
просто генерирует координаты по определенному закону, на основе маршрута
\+ некоторая ошибка для симуляции работы gps

## 10. LPS
то же самое, что и gps просто от других дронов
_______
### Тех реализация
просто генерирует координаты по определенному закону(отлич. от gps), на основе данных сосдених дронов и(или) стационарных вышек
\+ некоторая ошибка для симуляции работы lps

## 11. Управление Двигателями 
получает вектор движения и передают в управление двигателем


## 12. Технические данные
принимает данные от управления двигателями
смотрит что по заряду
компанует данные и отправляет в управление полетом

## 13. Контроль батареи
линейная функция с пологим спуском
99, 98 ..... 
просто выдает значение заряда батареи

## 14. Аварийная посадка
Получает **alert** от 7 компоненты и выдает сигнал о проведении аварийной посадки

## 15. Детектор обнаружения тип А
дает:
- какой-то рандомный момент обнаружения
- вероятность того, что это челик


-------------
-------------------
## Honorable mention!
Это JSON для внутренней передачи 
```
{
    "id": req_id,
    "operation": "process_new_data",
    "new_data": "asdsadsadasdasdsa",            
    "deliver_to": "monitor"
}
```

```
{
"id": req_id,
"operation": "process_new_data",
"new_data": {
    "type":"что за данные",
    "deliver-from": "",
    "deliver-to": "",
    "data": { 
        
    }
    },
"component_to": "monitor"
}
```
"data":
```
{
    
}
```
